# 리눅스

### 리눅스 배포판의 종류
- 슬랙웨어 Slackware
    - 가장 오래된 배포판
- 데비안 Debian
    - Ubuntu, Linux Mint, Kali Linux ...
- 레드햇 RedHat
    - 유료인 RHEL(Ted Hat Enterprise Linux)와 무료인 Fedora(페도라)로 나누어 배포
    - RHEL, Fedora, CentOS, ...
- 수세 SUSE
    - 독일에서 개발, 배포. 유럽에서 많이 씀.

### 리눅스 특징
- 오픈 소스
- 다중 사용자, 다중 작업 (multi user, multi tasking)
- 강력한 네트워킹, 다양한 파일 시스템 지원
- 이식성, 유연성, 확장성, 안정석, 보안성 좋음
- 가성비 굳, 다양한 응용프로그램을 제공, 다양한 배포판 존재.

|   |   |
|---|---|
| 장점 | - 유닉스와 완벽한 호환 <br> - POSIX 규격을 따름 <br> - 안정적인 운영체제 <br> - 하드웨어의 효율적 운영  |
| 단점 | - 무료 공개용은 기술지원을 받기 어려움 <br> - 특정 하드웨어에 대한 지원 부족 <br> - 다소 어렵고 한글 지원이 미흡 |

- 리눅스 파일 시스템은 계층형 트리 구조
- 리눅스 커널은 C언어로 작성됨

### 라이센스 License
1. GNU
    - GNU is Not Unix
    - 리차드 스톨만, 자유 소프트웨어 재단(FSF)
    - GNU 프로젝트는 최초로 Linux를 개발한 프로젝트다
2. GNU GPL
    - GNU General Public License
    - FSF에서 만듦
    - 내부에서 사용할 때는 소스코드 공개할 필요 X
    - 외부에 배포할 때는 소스코드 공개
3. GNU LGPL
    - GNU Lesser General Public License
    - LGPL이 적용된 라이브러리를 이용해 개발했을 경우, 사용했음만 명시하면 됨.
    - 단, LGPL 소스 코드를 단순히 이용하는 것이 아니라, 수정 혹은 파생된 라이브러리를 배포하는 경우에는 소스 코드를 공개해야 함.
4. BSD
    - Berkeley Software Distribution
    - 소프트웨어의 수정 배포에 제한이 없음
    - 소스 코드 공개 의무 X, 상용 소프트웨어에서도 자유롭게 사용 가능
5. 아파치 라이센스
    - 누구나 파생 상품 개발 가능. 저장권을 양도하거나 배포할 수도 있다.
    - 재배포 아파치 라이센스 2.0을 포함해야 함.
6. MIT 라이센스
    - BSD 계열
    - 누구나 개작 가능. 수정본의 재배포 시 소스 코드 비공개 가능
    - 대표적으로 X Window System (X11)
7. MPL
    - Mozilla Public License
    - BSD + GNU GPL
    - 소스 코드와 실행 파일의 라이센스를 분리.
    - 사용한 MPL과 수정한 MPL 소프트웨어에 대한 공개 의무만 가지며, 별도의 소스 코드와 실행 파일은 독점적인 라이센스를 지닌다.

## 리눅스 부트

### 부트 매니저
부트 매니저는 부팅할 때 사용자의 PC에 설치되어 있는 운영체제 중 하나를 선택하여 부팅하는 기능

### 부트 로더
- Boot Loader. Bootstrap Loader의 약자

<br>
<br>
<br>

# 기본 명령어

## 사용자 및 그룹

useradd
- -c
- -d
- -e
- -f
- -G
- -s

passwd
- -d
- -l
- -S
- -u

su
- \-　-l　--login
- -c
- -s

----

/etc/default/useradd

/etc/login.defs

/etc/skel

/etc/passwd

/etc/shadow

----

usermod
- -c
- -d
- -e
- -f
- -g
- -G
- -s
- -u

userdel
- -r

----

users
> 로그인한 사용자의 이름을 출력

w
> 로그인한 사용자의 정보를 자세하게 출력

who
> 로그인한 사용자의 정보를 간단하게 출력

whoami

id
> 로그인한 사용자의 UID, GID, GROUP 정보를 출력

----

groupadd
- -g
- -o
- -r

groupdel

groupmod
- -g
- -n

----

/etc/group

/etc/gpasswd

----

groups
> 현재 사용자가 속한 그룹들을 출력


## 디렉토리 및 파일

mkdir
- -m　권한 설정
- -p　하위 디렉토리를 한 번에 생성
- -v　verbose, 만들고 디렉토리 정보 출력

rmdir

cd
- ~
- .
- ..

pwd
- -L　심볼릭 링크의 경로를 표시 (기본)
- -P　심볼릭 링크 대신 원래 경로를 표시

ls
- -a　숨김 파일도 출력
- -d　디렉토리만 출력
- -F　파일이 디렉토리면 / , 실행 파일이면 * , 소켓이면 = , 심볼릭 링크면 @ 를 파일 뒤에 표시
- -l　상세히 출력
- -m　, 로 구분하여 출력
- -r　역순 출력
- -R　하위 디렉토리 목록까지 출력
- -s　Kbyte로 출력
- -t　최종 수정 시간 기준으로 출력

cp
- -b　동일한 파일명이 있으면, 복사본을 만듦
- -f　강제
- -i　덮어쓰기 여부를 묻기
- -p　원본의 모드, 소유자, 시간 정보를 유지하면서 복사
- -P　원본이 디렉토리 경로와 함께 지정됐을 경우, 지정된 디렉토리 경로를 그대로 복사
- -r　하위 디렉토리까지 복사
- -S　동일한 파일명이 있으면, 백업파일을 생성하지만, 백업파일 접미사를 지정
- -u　동일하 파일명이 있으면, 최신일 경우에만 복사

mv
- -b　동일한 파일명이 있으면, 복사본을 만듦
- -f　강제
- -i　덮어쓰기 여부를 묻기
- -u　동일하 파일명이 있으면, 최신일 경우에만 복사
- -v　verbose

rm
- -d　디렉토리 삭제
- -f　강제
- -i　삭제 여부를 묻기
- -r　하위 디렉토리도 삭제
- -v　verbose

touch
- -c　기존에 파일이 없으면, 파일이 생성되지 않음
- -a　현재 시간으로 접근 시간, 변경 시간을 수정
- -m　현재 시간으로 수정 시간, 변경 시간을 수정
- -d　지정한 시간으로 접근 시간, 수정되고, 변경 시간은 현재 시간으로 수정
- -t　지정한 시간으로 접근 시간, 수정되고, 변경 시간은 현재 시간으로 수정
- -r　지정한 파일의 접근 시간, 수정 시간으로 파일이 수정되고, 변경시간은 현재로 수정

file
- -b　파일의 유형을 출력
- -f　
- -i　
- -L　심볼릭 링크된 파일을 추적하여 원본 파일 정보를 출력
- -z　압축된 파일의 내용 출력

find
- -delete
- -empty
- -exec
- -name
- -print
- -size
- -type
- -atime
- -ctime
- -mtime

locate
> 미리 만들어 놓은 DB 파일에서 검색하기 때문에 빠르지만, 업데이트를 하지 않으면 최근에 삭제된 파일도 검색되는 문제가 발생함. 이럴 때는 updatedb 명령을 실행 후 locate를 하면 된다.
- e　검색에서 제외할 디렉토리 지정
- n　지정한 개수만큼 검색

whereis
> 명령어의 바이너리(실행 파일), 소스, 매뉴얼 파일의 위치를 검색

which
> 명령어 실행 파일 또는 링크의 위치를 검색

----
### 출력 명령어

cat
- -b　행번호 출력. (비어 있는 행 제외)
- -n　행번호 출력. (비어 있는 행 포함)
- -e　제어 문자를 ^ 형태로 출력하면서, 각 행의 끝에 $ 문자 추가
- -s　연속되는 비어 있는 행을 하나로 출력

head
- -c --byte　byte 단위 출력
- -n　n 행 출력
- -v　파일 이름을 헤더에 출력
- -q　파일 이름을 헤더에 출력하지 않음 (기본)

tail
- -c --byte　byte 단위 출력
- -n　n 행 출력
- -v　파일 이름을 헤더에 출력
- -f　파일의 마지막 10줄을 실시간으로 연속해서 출력
- -F　파일의 마지막 10줄을 실시간으로 연속해서 출력하며, 로그 파일처럼 특정시간이 지난 후 파일이 변동하게 되면 새로운 파일을 출력
- -n +n　처음 +n 번째 줄 이후부터 마지막까지

more
> 파일의 내용을 화면 단위로 출력
- 엔터　한 행씩 아래로
- -b　한 화면씩 위로 이동
- 스페이스바　한 화면씩 아래로
- n:/문자열　문자열 검색
- q　나가기
- v　현재 위치에서 vi 편집기 실행
- =　현재 위치의 행 번호 출력

less
- -c
- -i
- -s
- -x　
- q　 나가기
- 행번호　지정된 행 다음부터 출력
- ↑　한 행씩 위로
- ↓　한 행씩 아래로
- Page Up　한 화면씩 위로
- Page Down　한 화면씩 아래로
- 엔터　한 행씩 아래로
- 스페이스바　한 화면씩 아래로

grep
> 파일 안에서 검색한 후, 검색된 모든 행을 출력. 디렉토리 안에서 해당 패턴을 포함하는 파일을 출력할 수도 있다.
- grep 다중 패턴 검색 / egrep 정규 표현식 검색 / fgrep 단순 패턴 검색
- -c　일치하는 행의 수 출력
- -i　대소문자 구분 안함
- -l　패턴이 포함된 파일 이름들을 출력
- -n　행 번호 출력
- -v　패턴과 일치하지 않는 행을 출력
- -w　패턴이 전체 문자열과 일치하는 행만 출력

wc
> 파일 안의 행, 단어, 문자 수를 출력하는 명령어
- -l　행 개수 출력
- -w　단어 개수 출력
- -c　문자 개수 출력

sort
> 파일 내용을 정렬
- -b　선행 공백 무시
- -c　정렬 여부 검사
- -f　대소문자 구분 안함
- -m　정렬된 파일 병합
- -n　숫자로 한정하여 정렬
- -o　저장할 파일명 지정
- -r　역순 정렬
- -R　랜덤하게 정렬 (해시값으로)
- -t　필드 구분자 지정
- -u　정렬후 중복 제거

cut
> 파일에서 특정 필드를 추출하여 출력
- -b　바이트 단위
- -c　문자 단위
- -d　
- -f　TAB으로 필드를 구분하여 지정한 필드만 출력
- -s　

split
> 하나의 파일을 여러 파일로 분할
- -a　
- -b　바이트 단위 분할
- -l　행 단위 분할
- --additional-suffix　확장자명을 지정

----
### 파일 비교 명령어

diff
> 차이가 없으면 0, 차이가 있으면 1, 에러는 2를 반환.  
> diff3은 파일을 3개까지 비교
- -b　연결되는 공백을 무시
- -c　차이점 출력
- -d　차이점을 상세히 출력
- -i　대소문자 구분 안함
- -r　하위 디렉토리의 파일도 비교
- -s　두 파일이 같을 경우 알림
- -t　출력 행에 TAB 삽입
- -w　모든 공백 표시

cmp
> 파일을 바이트 단위로 비교
- -b　서로 다른 바이트 수 출력
- -i　최초의 Skip 바이트를 건너 뜀
- -l　서로 다른 문자의 수 출력
- -s　아무것도 출력하지 않고 종료 코드만 출력

comm
> 파일을 행 단위로 비교
- -1　파일1에만 있는 행은 출력하지 않음
- -2　파일2에만 있는 행은 출력하지 않음
- -3　공통으로 있는 행은 출력하지 않음

<br>

## 기타 명령어

리다이렉션 Redirection
- \>
- \>>　명령 실행 결과를 추가하거나 저장
- <
- \>&　명령의 출력을 다른 명령의 입력으로 보냄
- <&

파이프 Pipe
> 두 개의 명령얼르 연결. 프로세스와 프로세스 간의 통로.  
> 명령 출력이 다른 명령의 입력으로 전달
- <명령어> | <명령어> | <명령어>

세미콜론 ;
> 명령 구분. 첫 번째 명령이 실패해도 다음 명령어 실행

----
### 네트워크 명령어

ping
- -c　횟수만큼 패킷 전송
- -d　
- -f　
- -i　패킷 전송 사이의 대기 시간 지정
- -l　
- -n　
- -r　

traceroute
- -m　홉 수 지정
- -n　
- -p　시작 포트 번호 지정
- -q　패킷 수 지정
- -w　타임아웃 시간 지정

nslookup
> 도메인 이름으로 IP 주소를 확인하거나, IP 주소로 도메인 이름을 확인  
> -type=
- a　IPv4
- aaaa　IPv6
- mx　
- ns　
- soa　
- srv　
- txt　
- ptr　
- cname　

dig
> Domain Information Groper 로 nslookup과 유사
- @server
- domain
- type
　
- a
- any
- mx
- ns
- soa
- hinfo
- axft
- txt
- zone transfer

host


hostname


----

date

rdate
> 원격지의 시간 정보를 가져와 동기화시킴
- -4　IPv4
- -6　IPv6
- -p　정보만 출력하고 설정은 안 함
- -s　출력 안 하고 설정만 함
- -o
- -u
- -v

cal
> 달력을 출력
- -j　
- -y　

time
> 프로그램의 실행 시간을 출력

tty
> 현재 사용하고 있는 단말 장치의 경로와 파일명을 출력

clear

wall
> 로그인된 모든 사용자에게 메시지 전송

write
> 지정된 사용자에게 메시지 전송

mesg
> 메시지 수신 여부를 확인하고 제어


<br>
<br>
<br>

# 파일 시스템 관리

## 사용자 권한 및 그룹 설정
    - rw-r--r--. 1 root root 45 10월 11 13:44 linux.txt

파일 유형
- \-　일반파일
- c　문자 파일
- |　심볼릭 링크 파일
- b　블록 장치 파일
- d　장치 파일
- s　소켓 파일
- p　파이프

허가권  
링크 수  
소유자명  
그룹명  
파일 크기  
마지막 변경 시각  
파일명

<br>

### 소유권 관련 명령어

chown
> 파일이나 디렉토리의 사용자 소유권과 그룹 소유권을 변경  
> 구분자는 . 혹은 :
- -c　소유권 변경 정보 출력
- -f　오류 메시지 출력 안함
- -R　하위 디렉토리도 모두 변경

chgrp
> 파일이나 디렉토리의 그룹 소유권을 변경
- -c　소유권 변경 정보 출력
- -f　오류 메시지 출력 안함
- -R　하위 디렉토리도 모두 변경
- -v　verbose

<br>

### 허가권 관련 명령어

chmod
> 파일이나 디렉토리의 허가권을 변경
- -c　소유권 변경 정보 출력
- -R　하위 디렉토리도 모두 변경
- -v　verbose

umask
> 새로 생성되는 파일이나 디렉토리의 기본 허가권을 지정하는 명령  
> umask값이 022이라면, 파일은 644 이고, 디렉토리는 755 다.
- -S　umask 값을 기호로 출력

<br>

### 특수 허가권

프로세스가 실행되는 동안, 해당 파일을 실행한 사용자가 아닌, 해당 파일을 소유한 사용자의 권한으로 실행하도록 만드는 허가권

- 낮은 수준의 사용자가 높은 수준의 자원에 접근할 수 있다.

|   |   |   |
|---|---|---|
| SetUID | s | 4000 |
| SetGID | s | 2000 |
| Sticky | t | 1000 |

<br>

### 디스크 쿼터　Disk Quota

파일 시스템별로 사용자나 그룹의 사용량을 제한
- 블록(block) 단위나 아이노드(I-Node)의 개수를 제한한다.
- 사용자별, 파일 시스템별로 작동

quotaon
> 쿼터를 활성화
- -a　모든 파일 시스템에 대해 쿼터 적용
- -g　그룹 쿼터 적용
- -u　사용자 쿼터 적용
- -v　verbose

quotaoff
> 쿼터를 끔
- -a　모든 파일 시스템에 대해 쿼터 적용
- -g　그룹 쿼터 적용
- -u　사용자 쿼터 적용
- -v　verbose

quotacheck
> 모든 파일 시스템을 점검하고, 쿼터 설정 및 기록 파일을 갱신  
> 갱신 목록: quota.user , quota.group , aquota.user , aquota.group
- -a　모든 파일 시스템을 점검 및 기록 갱신
- -g　그룹 기록 갱신
- -m　파일 시스템을 읽기 전용으로 다시 마운트하지 않음
- -u　사용자 기록 갱신
- -v　verbose

edquota
> 쿼터를 설정하고 변경
- -g　그룹 쿼터 설정 및 변경
- -p　기존 사용자의 할당량 설정을 다른 사용자에게 복사
- -t　유예 기간 확인 및 변경
- -u　사용자 쿼터 설정 및 변경

setquota
> 터미널에서 직접 사용자나 그룹에 쿼터를 적용하는 명령
- -a
- -g
- -u

repquota
> 터미널에서 직접 사용자나 그룹에 적용된 쿼터를 요약하여 출력
- -a
- -g
- -u

xfs_quota
> xfs 파일 시스템에서 quota를 설정하기 위한 명령


## 파일 시스템 관리 유틸리티

### 파일 시스템

### 파일 시스템 명령어

fdisk

mkfs

mke2fs

mkfs.xfs

fsck

e2fsck

xfs_repair

mount, umount

eject

df
> 시스템에 마운트된 하드디스크의 사용량과 남은 용량을 확인  
> 기본적으로 블록 단위(1Kbyte)로 출력

### 파일 시스템 관련 파일

/etc/fstab

    /dev/sdb1 /home ext3 defaults 0 0

<br>
<br>
<br>

# 셸 관리

## 셸　Shell

- 사용자가 입력한 명령어를 해석하여 커널에 전달
- 윈도(도스)에서의 command.com과 유사한 기능을 수행
- 사용자가 로그인 시 실행되어 사용 환경을 제공
- 셸 프로그래밍 언어(스크립트 언어) 이다.
- 리다이렉션과 파이프 기능을 수행
- 사용자 셸 프롬프트 이다. (본 셸 계열: $ , C 셸 계열: %)

본 셸 계열
|   |   |
|---|---|
| 본 셸 | /bin/sh |
| 콘 셸 | /bin/ksh |
| 배시 셸 | /bin/bash |
| 지 셸 | /bin/zsh |

C 셸 계열
|   |   |
|---|---|
| C 셸 | /bin/csh |
| TC 셸 | /bin/tcsh |

### 셸 관련 파일

/etc/shells
> 사용자들이 사용 가능한 셸들을 정의해논 파일

/etc/passwd
> 사용자 계정 정보가 저장되는 파일

    test:x:1000:1000:test:/home/test2:/bin/bash

### 셸 관련 명령어



